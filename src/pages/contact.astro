---
import Layout from '../layouts/Layout.astro';
import SocialLinks from '../components/ui/SocialLinks.astro';
import { getImageBaseUrl, getLinkUrl } from '../utils/images';
import { getCollection } from 'astro:content';

const socialLinksEntries = await getCollection('social-links');
const socialLinks = socialLinksEntries
  .sort((a, b) => a.data.order - b.data.order)
  .map((entry) => ({
    platform: entry.data.platform,
    url: entry.data.url,
  }));

const contactInfo = {
  email: 'tourism@gmc.bt',
  address: 'Gelephu Mindfulness City, Bhutan',
};
---

<Layout
  title="Contact Us | GMC Tourism"
  description="Get in touch with GMC Tourism for any questions or inquiries. We're here to help you discover Bhutan."
  mainClass="pt-0"
>
  <!-- Hero Section -->
  <div class="relative h-[50vh] w-full overflow-hidden flex items-center justify-center">
    <!-- Background Image -->
    <img
      src={`${getImageBaseUrl()}/backgrounds/home-background.jpg`}
      alt="Contact GMC Tourism"
      class="absolute h-full w-full object-cover scale-105"
    />
    <div class="absolute inset-0 z-10 bg-linear-to-b from-black/60 via-black/40 to-black/70"></div>
    <div class="relative z-10 text-center px-4">
      <h1
        class="contact-hero-title text-4xl font-bold text-white md:text-5xl lg:text-6xl drop-shadow-lg mb-4"
      >
        Contact Us
      </h1>
      <p class="contact-hero-subtitle text-lg text-white md:text-xl drop-shadow-md opacity-90">
        Get in touch with GMC Tourism
      </p>
    </div>

    <!-- Bottom gradient fade -->
    <div
      class="absolute bottom-0 left-0 right-0 z-20 h-16"
      style="background: linear-gradient(to top, #000000, transparent);"
    >
    </div>
  </div>

  <!-- Contact Content Section -->
  <section class="contact-content-section py-16 px-4 sm:px-6 lg:px-8 min-h-[50vh]">
    <div class="max-w-6xl mx-auto">
      <!-- Main Contact Card -->
      <div class="contact-main-card mb-12">
        <div class="text-center mb-12">
          <h2 class="contact-section-title text-3xl md:text-4xl font-bold mb-4">Any Questions?</h2>
          <p class="contact-section-subtitle text-lg md:text-xl opacity-80">
            We'd love to hear from you. Reach out to us through any of the channels below.
          </p>
        </div>

        <!-- Contact Methods Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
          <!-- Email Card -->
          <div class="contact-card">
            <div class="contact-card-icon-wrapper">
              <i class="fa-solid fa-envelope text-3xl"></i>
            </div>
            <h3 class="contact-card-title">Email Us</h3>
            <p class="contact-card-description mb-4">
              Send us an email and we'll get back to you as soon as possible.
            </p>
            <a
              href={`mailto:${contactInfo.email}`}
              class="contact-card-link inline-flex items-center gap-2 group"
            >
              <span>{contactInfo.email}</span>
              <i class="fa-solid fa-arrow-right transition-transform group-hover:translate-x-1"></i>
            </a>
          </div>

          <!-- Location Card -->
          <div class="contact-card">
            <div class="contact-card-icon-wrapper">
              <i class="fa-solid fa-location-dot text-3xl"></i>
            </div>
            <h3 class="contact-card-title">Visit Us</h3>
            <p class="contact-card-description mb-4">
              Located in the heart of Gelephu Mindfulness City.
            </p>
            <div class="contact-card-link">
              <p>{contactInfo.address}</p>
            </div>
          </div>
        </div>

        <!-- Social Media Section -->
        <div class="contact-social-section">
          <h3 class="contact-social-title text-2xl font-semibold mb-6 text-center">
            Follow Us on Social Media
          </h3>
          <p class="contact-social-description text-center mb-8 opacity-80">
            Stay connected with us for the latest updates, events, and news about GMC Tourism and
            Bhutan.
          </p>
          <div class="flex justify-center">
            <SocialLinks links={socialLinks} />
          </div>
        </div>
      </div>

      <!-- Additional Information -->
      <div class="contact-additional-info">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
          <div class="info-item">
            <i class="fa-solid fa-clock text-2xl mb-3 opacity-70"></i>
            <h4 class="info-item-title font-semibold mb-2">Response Time</h4>
            <p class="info-item-text opacity-70">We typically respond within 24-48 hours</p>
          </div>
          <div class="info-item">
            <i class="fa-solid fa-globe text-2xl mb-3 opacity-70"></i>
            <h4 class="info-item-title font-semibold mb-2">Language</h4>
            <p class="info-item-text opacity-70">English and Dzongkha</p>
          </div>
          <div class="info-item">
            <i class="fa-solid fa-headset text-2xl mb-3 opacity-70"></i>
            <h4 class="info-item-title font-semibold mb-2">Support</h4>
            <p class="info-item-text opacity-70">We're here to help with your inquiries</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Hero Section */
  .contact-hero-title {
    color: #ffffff !important;
  }

  .contact-hero-subtitle {
    color: #ffffff !important;
  }

  :global([data-theme='light']) .contact-hero-title,
  :global([data-theme='light']) .contact-hero-subtitle {
    color: #ffffff !important;
  }

  /* Content Section */
  .contact-content-section {
    --contact-bg: #000000;
    --contact-text: #ffffff;
    --contact-card-bg: rgba(255, 255, 255, 0.05);
    --contact-card-border: rgba(255, 255, 255, 0.1);
    background: var(--contact-bg);
  }

  :global([data-theme='light']) .contact-content-section {
    --contact-bg: #f5f5f5;
    --contact-text: #000000;
    --contact-card-bg: rgba(255, 255, 255, 0.9);
    --contact-card-border: rgba(0, 0, 0, 0.1);
  }

  /* Section Titles */
  .contact-section-title {
    color: var(--contact-text);
  }

  .contact-section-subtitle {
    color: var(--contact-text);
  }

  /* Contact Cards */
  .contact-card {
    background: var(--contact-card-bg);
    border: 1px solid var(--contact-card-border);
    border-radius: 1rem;
    padding: 2rem;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
  }

  .contact-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    border-color: rgba(255, 255, 255, 0.2);
  }

  :global([data-theme='light']) .contact-card:hover {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border-color: rgba(0, 0, 0, 0.2);
  }

  .contact-card-icon-wrapper {
    width: 4rem;
    height: 4rem;
    border-radius: 0.75rem;
    background: rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
    color: var(--contact-text);
  }

  :global([data-theme='light']) .contact-card-icon-wrapper {
    background: rgba(0, 0, 0, 0.05);
  }

  .contact-card-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: var(--contact-text);
  }

  .contact-card-description {
    color: var(--contact-text);
    opacity: 0.8;
    line-height: 1.6;
  }

  .contact-card-link {
    color: var(--contact-text);
    font-weight: 500;
    text-decoration: none;
    transition: opacity 0.2s;
  }

  .contact-card-link:hover {
    opacity: 0.8;
  }

  /* Social Section */
  .contact-social-section {
    padding: 3rem 2rem;
    border-radius: 1rem;
    background: var(--contact-card-bg);
    border: 1px solid var(--contact-card-border);
    margin-top: 2rem;
  }

  .contact-social-title {
    color: var(--contact-text);
  }

  .contact-social-description {
    color: var(--contact-text);
  }

  /* Additional Info */
  .info-item {
    padding: 1.5rem;
  }

  .info-item i {
    color: var(--contact-text);
  }

  .info-item-title {
    color: var(--contact-text);
    font-size: 1.125rem;
  }

  .info-item-text {
    color: var(--contact-text);
    font-size: 0.9375rem;
  }

  /* Social Links Enhancement */
  .contact-content-section :global(.brightness-100) {
    filter: brightness(1) contrast(1);
  }

  :global([data-theme='light']) .contact-content-section :global(.brightness-100) {
    filter: brightness(0.1) contrast(1);
  }
</style>
